

Ultrasonic sensor (HC-SR04)

L298N or L293D motor driver module

2 DC motors



---

✅ Components

Arduino Uno

HC-SR04 Ultrasonic Sensor

L298N or L293D motor driver

2 DC Motors

Power supply (Battery pack)



---

✅ Wiring Overview

Ultrasonic Sensor	Arduino Pin

VCC	5V
GND	GND
Trig	D9
Echo	D8


Motor Driver	Arduino Pin

IN1	D7
IN2	D6
IN3	D5
IN4	D4
ENA	D10 (PWM)
ENB	D11 (PWM)



---

✅ Arduino Code

// Motor pins
const int ENA = 10;
const int IN1 = 7;
const int IN2 = 6;
const int IN3 = 5;
const int IN4 = 4;
const int ENB = 11;

// Ultrasonic pins
const int trigPin = 9;
const int echoPin = 8;

long duration;
int distance;

void setup() {
  // Motor pins
  pinMode(ENA, OUTPUT);
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);
  pinMode(ENB, OUTPUT);

  // Ultrasonic pins
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);

  Serial.begin(9600);
}

void loop() {
  // Measure distance
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  
  duration = pulseIn(echoPin, HIGH);
  distance = duration * 0.034 / 2;

  Serial.print("Distance: ");
  Serial.println(distance);

  if (distance < 20) {
    // Obstacle detected – turn right
    stopMotors();
    delay(200);
    turnRight();
    delay(400);
  } else {
    // Move forward
    moveForward();
  }
}

void moveForward() {
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
  analogWrite(ENA, 200);
  analogWrite(ENB, 200);
}

void turnRight() {
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
  analogWrite(ENA, 200);
  analogWrite(ENB, 200);
}

void stopMotors() {
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, LOW);
}


